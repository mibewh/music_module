define(["ratchet/dynamic/empty","ui","handlebars"],function(n,t,e){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=3)}([function(n,t){n.exports=function(n){var t=[];return t.toString=function(){return this.map(function(t){var e=function(n,t){var e=n[1]||"",r=n[3];if(!r)return e;if(t&&"function"==typeof btoa){var i=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(r),o=r.sources.map(function(n){return"/*# sourceURL="+r.sourceRoot+n+" */"});return[e].concat(o).concat([i]).join("\n")}return[e].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},t.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<n.length;i++){var a=n[i];"number"==typeof a[0]&&r[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),t.push(a))}},t}},function(t,e){t.exports=n},function(n,e){n.exports=t},function(n,t,e){n.exports=e(4)},function(n,t,e){var r;void 0===(r=function(n){e(5),e(8),e(11).registerHelper("each_group",function(n,t,e){var r,i="",o=[];if(t&&t.length>0){for(r=0;r<t.length;r++)r>0&&r%n==0&&(i+=e.fn(o),o=[]),o.push(t[r]);i+=e.fn(o)}return i})}.call(t,e,t,n))||(n.exports=r)},function(n,t,e){var r;void 0===(r=function(n,t,r){e(6);var i=e(7),o=e(1);return e(2).registerGadget("music-albums-list",o.extend({TEMPLATE:i,setup:function(){this.get("/projects/{projectId}/albums",this.index)},prepareModel:function(n,t,e){var r=this.observable("branch").get(),i=this.observable("project").get();this.base(n,t,function(){r.queryNodes({_type:"my:album"}).then(function(){t.albums=this.asArray();for(var n=0;n<t.albums.length;n++){var r=t.albums[n];r.imgUrl="/preview/repository/"+r.getRepositoryId()+"/branch/"+r.getBranchId()+"/node/"+r.getId()+"/default?size=128&name=preview128&force=true",r.artistUrl="/#/projects/"+i._doc+"/documents/"+r.artist.id,r.albumUrl="/#/projects/"+i._doc+"/documents/"+r._doc}e()})})}}))}.call(t,e,t,n))||(n.exports=r)},function(n,t,e){(n.exports=e(0)(!1)).push([n.i,"",""])},function(n,t){n.exports='<div>\n    {{#each_group 3 albums}}\n        <div class="row">\n            {{#each this}}\n                <div class="col-sm-4">\n                    <div class="panel panel-default">\n                        <div class="panel-heading">\n                            <a href="{{albumUrl}}">\n                                <h3>{{title}}</h3>\n                            </a>\n                        </div>\n                        <div class="panel-body">\n                            <div class="media">\n                                <div class="media-left">\n                                    <img class="media-object" src="{{imgUrl}}" alt="{{title}}">\n                                </div>\n                                <div class="media-body">\n                                    <a href="{{artistUrl}}">\n                                        <h4>{{artist.title}}</h4>\n                                    </a>\n                                    {{{body}}}\n                                </div>\n                            </div>\n                        </div>\n                        <div class="panel-footer">\n                            Rating: {{rating}}\n                        </div>\n                    </div>\n                </div>\n            {{/each}}\n        </div>\n    {{/each_group}}\n</div>\n'},function(n,t,e){var r;void 0===(r=function(n,t,r){e(9);var i=e(10),o=e(1);return e(2).registerGadget("music-artists-list",o.extend({TEMPLATE:i,setup:function(){this.get("/projects/{projectId}/artists",this.index)},prepareModel:function(n,t,e){var r=this.observable("branch").get(),i=this.observable("project").get();this.base(n,t,function(){r.queryNodes({_type:"my:artist"}).then(function(){var n=this.asArray();return n.forEach(function(n){n.url="/#/projects/"+i._doc+"/documents/"+n._doc}),n}).then(function(n){var t=this;return n.forEach(function(n){t.subchain(n).find({traverse:{associations:{"my:written_by":"INCOMING"},depth:1,types:["my:album"]}}).then(function(){n.albums=this.asArray(),n.albums.forEach(function(n){n.url="/#/projects/"+i._doc+"/documents/"+n._doc})})}),n}).then(function(n){t.artists=n,e()})})},doGitanaQuery:function(n,t,e,r,i,o){}}))}.call(t,e,t,n))||(n.exports=r)},function(n,t,e){(n.exports=e(0)(!1)).push([n.i,"",""])},function(n,t){n.exports='<div>\n    {{#artists}}\n        <div class="row">\n            <div class="col-sm-12">\n                <div class="panel panel-default">\n                    <div class="panel-heading">\n                        <a href="{{url}}">\n                            <h3>{{title}}</h3>\n                        </a>\n                    </div>\n                    <div class="panel-body">\n                        {{{bio}}}\n                        {{#albums}}\n                        <p><a href="{{url}}">{{title}}</a></p>\n                        {{/albums}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    {{/artists}}\n</div>\n'},function(n,t){n.exports=e}])});